//------------------------------------------------------------------------------
// <auto-generated>
//     This code was generated by a tool.
//
//     Changes to this file may cause incorrect behavior and will be lost if
//     the code is regenerated.
// </auto-generated>
//------------------------------------------------------------------------------

using Microsoft.AspNetCore.Mvc;
using Substrate.NetApi.Model.Types.Base;
using Substrate.Polkadot.NET.RestService.Generated.Storage;
using Substrate.ServiceLayer.Attributes;
using System.Collections.Generic;
using System.Threading.Tasks;


namespace Substrate.Polkadot.NET.RestService.Generated.Controller
{
    
    
    /// <summary>
    /// GrandpaController controller to access storages.
    /// </summary>
    [ApiController()]
    [Route("[controller]")]
    public sealed class GrandpaController : ControllerBase
    {
        
        private IGrandpaStorage _grandpaStorage;
        
        /// <summary>
        /// GrandpaController constructor.
        /// </summary>
        public GrandpaController(IGrandpaStorage grandpaStorage)
        {
            _grandpaStorage = grandpaStorage;
        }
        
        /// <summary>
        /// >> State
        ///  State of the current authority set.
        /// </summary>
        [HttpGet("State")]
        [ProducesResponseType(typeof(Substrate.Polkadot.NET.NetApiExt.Generated.Model.pallet_grandpa.EnumStoredState), 200)]
        [StorageKeyBuilder(typeof(Substrate.Polkadot.NET.NetApiExt.Generated.Storage.GrandpaStorage), "StateParams")]
        public IActionResult GetState()
        {
            return this.Ok(_grandpaStorage.GetState());
        }
        
        /// <summary>
        /// >> PendingChange
        ///  Pending change: (signaled at, scheduled change).
        /// </summary>
        [HttpGet("PendingChange")]
        [ProducesResponseType(typeof(Substrate.Polkadot.NET.NetApiExt.Generated.Model.pallet_grandpa.StoredPendingChange), 200)]
        [StorageKeyBuilder(typeof(Substrate.Polkadot.NET.NetApiExt.Generated.Storage.GrandpaStorage), "PendingChangeParams")]
        public IActionResult GetPendingChange()
        {
            return this.Ok(_grandpaStorage.GetPendingChange());
        }
        
        /// <summary>
        /// >> NextForced
        ///  next block number where we can force a change.
        /// </summary>
        [HttpGet("NextForced")]
        [ProducesResponseType(typeof(Substrate.NetApi.Model.Types.Primitive.U32), 200)]
        [StorageKeyBuilder(typeof(Substrate.Polkadot.NET.NetApiExt.Generated.Storage.GrandpaStorage), "NextForcedParams")]
        public IActionResult GetNextForced()
        {
            return this.Ok(_grandpaStorage.GetNextForced());
        }
        
        /// <summary>
        /// >> Stalled
        ///  `true` if we are currently stalled.
        /// </summary>
        [HttpGet("Stalled")]
        [ProducesResponseType(typeof(Substrate.NetApi.Model.Types.Base.BaseTuple<Substrate.NetApi.Model.Types.Primitive.U32, Substrate.NetApi.Model.Types.Primitive.U32>), 200)]
        [StorageKeyBuilder(typeof(Substrate.Polkadot.NET.NetApiExt.Generated.Storage.GrandpaStorage), "StalledParams")]
        public IActionResult GetStalled()
        {
            return this.Ok(_grandpaStorage.GetStalled());
        }
        
        /// <summary>
        /// >> CurrentSetId
        ///  The number of changes (both in terms of keys and underlying economic responsibilities)
        ///  in the "set" of Grandpa validators from genesis.
        /// </summary>
        [HttpGet("CurrentSetId")]
        [ProducesResponseType(typeof(Substrate.NetApi.Model.Types.Primitive.U64), 200)]
        [StorageKeyBuilder(typeof(Substrate.Polkadot.NET.NetApiExt.Generated.Storage.GrandpaStorage), "CurrentSetIdParams")]
        public IActionResult GetCurrentSetId()
        {
            return this.Ok(_grandpaStorage.GetCurrentSetId());
        }
        
        /// <summary>
        /// >> SetIdSession
        ///  A mapping from grandpa set ID to the index of the *most recent* session for which its
        ///  members were responsible.
        /// 
        ///  This is only used for validating equivocation proofs. An equivocation proof must
        ///  contains a key-ownership proof for a given session, therefore we need a way to tie
        ///  together sessions and GRANDPA set ids, i.e. we need to validate that a validator
        ///  was the owner of a given key on a given session, and what the active set ID was
        ///  during that session.
        /// 
        ///  TWOX-NOTE: `SetId` is not under user control.
        /// </summary>
        [HttpGet("SetIdSession")]
        [ProducesResponseType(typeof(Substrate.NetApi.Model.Types.Primitive.U32), 200)]
        [StorageKeyBuilder(typeof(Substrate.Polkadot.NET.NetApiExt.Generated.Storage.GrandpaStorage), "SetIdSessionParams", typeof(Substrate.NetApi.Model.Types.Primitive.U64))]
        public IActionResult GetSetIdSession(string key)
        {
            return this.Ok(_grandpaStorage.GetSetIdSession(key));
        }
        
        /// <summary>
        /// >> Authorities
        ///  The current list of authorities.
        /// </summary>
        [HttpGet("Authorities")]
        [ProducesResponseType(typeof(Substrate.Polkadot.NET.NetApiExt.Generated.Model.bounded_collections.weak_bounded_vec.WeakBoundedVecT4), 200)]
        [StorageKeyBuilder(typeof(Substrate.Polkadot.NET.NetApiExt.Generated.Storage.GrandpaStorage), "AuthoritiesParams")]
        public IActionResult GetAuthorities()
        {
            return this.Ok(_grandpaStorage.GetAuthorities());
        }
    }
}
