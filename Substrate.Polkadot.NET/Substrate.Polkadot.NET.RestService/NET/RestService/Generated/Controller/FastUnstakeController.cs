//------------------------------------------------------------------------------
// <auto-generated>
//     This code was generated by a tool.
//
//     Changes to this file may cause incorrect behavior and will be lost if
//     the code is regenerated.
// </auto-generated>
//------------------------------------------------------------------------------

using Microsoft.AspNetCore.Mvc;
using Substrate.NetApi.Model.Types.Base;
using Substrate.Polkadot.NET.RestService.Generated.Storage;
using Substrate.ServiceLayer.Attributes;
using System.Collections.Generic;
using System.Threading.Tasks;


namespace Substrate.Polkadot.NET.RestService.Generated.Controller
{
    
    
    /// <summary>
    /// FastUnstakeController controller to access storages.
    /// </summary>
    [ApiController()]
    [Route("[controller]")]
    public sealed class FastUnstakeController : ControllerBase
    {
        
        private IFastUnstakeStorage _fastUnstakeStorage;
        
        /// <summary>
        /// FastUnstakeController constructor.
        /// </summary>
        public FastUnstakeController(IFastUnstakeStorage fastUnstakeStorage)
        {
            _fastUnstakeStorage = fastUnstakeStorage;
        }
        
        /// <summary>
        /// >> Head
        ///  The current "head of the queue" being unstaked.
        /// 
        ///  The head in itself can be a batch of up to [`Config::BatchSize`] stakers.
        /// </summary>
        [HttpGet("Head")]
        [ProducesResponseType(typeof(Substrate.Polkadot.NET.NetApiExt.Generated.Model.pallet_fast_unstake.types.UnstakeRequest), 200)]
        [StorageKeyBuilder(typeof(Substrate.Polkadot.NET.NetApiExt.Generated.Storage.FastUnstakeStorage), "HeadParams")]
        public IActionResult GetHead()
        {
            return this.Ok(_fastUnstakeStorage.GetHead());
        }
        
        /// <summary>
        /// >> Queue
        ///  The map of all accounts wishing to be unstaked.
        /// 
        ///  Keeps track of `AccountId` wishing to unstake and it's corresponding deposit.
        /// </summary>
        [HttpGet("Queue")]
        [ProducesResponseType(typeof(Substrate.NetApi.Model.Types.Primitive.U128), 200)]
        [StorageKeyBuilder(typeof(Substrate.Polkadot.NET.NetApiExt.Generated.Storage.FastUnstakeStorage), "QueueParams", typeof(Substrate.Polkadot.NET.NetApiExt.Generated.Model.sp_core.crypto.AccountId32))]
        public IActionResult GetQueue(string key)
        {
            return this.Ok(_fastUnstakeStorage.GetQueue(key));
        }
        
        /// <summary>
        /// >> CounterForQueue
        /// Counter for the related counted storage map
        /// </summary>
        [HttpGet("CounterForQueue")]
        [ProducesResponseType(typeof(Substrate.NetApi.Model.Types.Primitive.U32), 200)]
        [StorageKeyBuilder(typeof(Substrate.Polkadot.NET.NetApiExt.Generated.Storage.FastUnstakeStorage), "CounterForQueueParams")]
        public IActionResult GetCounterForQueue()
        {
            return this.Ok(_fastUnstakeStorage.GetCounterForQueue());
        }
        
        /// <summary>
        /// >> ErasToCheckPerBlock
        ///  Number of eras to check per block.
        /// 
        ///  If set to 0, this pallet does absolutely nothing. Cannot be set to more than
        ///  [`Config::MaxErasToCheckPerBlock`].
        /// 
        ///  Based on the amount of weight available at [`Pallet::on_idle`], up to this many eras are
        ///  checked. The checking is represented by updating [`UnstakeRequest::checked`], which is
        ///  stored in [`Head`].
        /// </summary>
        [HttpGet("ErasToCheckPerBlock")]
        [ProducesResponseType(typeof(Substrate.NetApi.Model.Types.Primitive.U32), 200)]
        [StorageKeyBuilder(typeof(Substrate.Polkadot.NET.NetApiExt.Generated.Storage.FastUnstakeStorage), "ErasToCheckPerBlockParams")]
        public IActionResult GetErasToCheckPerBlock()
        {
            return this.Ok(_fastUnstakeStorage.GetErasToCheckPerBlock());
        }
    }
}
