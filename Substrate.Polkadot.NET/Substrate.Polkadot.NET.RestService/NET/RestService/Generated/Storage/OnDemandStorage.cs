//------------------------------------------------------------------------------
// <auto-generated>
//     This code was generated by a tool.
//
//     Changes to this file may cause incorrect behavior and will be lost if
//     the code is regenerated.
// </auto-generated>
//------------------------------------------------------------------------------

using Substrate.NetApi.Model.Types.Base;
using Substrate.ServiceLayer.Attributes;
using Substrate.ServiceLayer.Storage;
using System.Collections.Generic;
using System.Threading.Tasks;


namespace Substrate.Polkadot.NET.RestService.Generated.Storage
{
    
    
    /// <summary>
    /// IOnDemandStorage interface definition.
    /// </summary>
    public interface IOnDemandStorage : IStorage
    {
        
        /// <summary>
        /// >> ParaIdAffinity
        ///  Maps a `ParaId` to `CoreIndex` and keeps track of how many assignments the scheduler has in
        ///  it's lookahead. Keeping track of this affinity prevents parallel execution of the same
        ///  `ParaId` on two or more `CoreIndex`es.
        /// </summary>
        Substrate.Polkadot.NET.NetApiExt.Generated.Model.polkadot_runtime_parachains.assigner_on_demand.types.CoreAffinityCount GetParaIdAffinity(string key);
        
        /// <summary>
        /// >> QueueStatus
        ///  Overall status of queue (both free + affinity entries)
        /// </summary>
        Substrate.Polkadot.NET.NetApiExt.Generated.Model.polkadot_runtime_parachains.assigner_on_demand.types.QueueStatusType GetQueueStatus();
        
        /// <summary>
        /// >> FreeEntries
        ///  Priority queue for all orders which don't yet (or not any more) have any core affinity.
        /// </summary>
        Substrate.Polkadot.NET.NetApiExt.Generated.Types.Base.BinaryHeapT2 GetFreeEntries();
        
        /// <summary>
        /// >> AffinityEntries
        ///  Queue entries that are currently bound to a particular core due to core affinity.
        /// </summary>
        Substrate.Polkadot.NET.NetApiExt.Generated.Types.Base.BinaryHeapT2 GetAffinityEntries(string key);
        
        /// <summary>
        /// >> Revenue
        ///  Keeps track of accumulated revenue from on demand order sales.
        /// </summary>
        Substrate.Polkadot.NET.NetApiExt.Generated.Model.bounded_collections.bounded_vec.BoundedVecT35 GetRevenue();
    }
    
    /// <summary>
    /// OnDemandStorage class definition.
    /// </summary>
    public sealed class OnDemandStorage : IOnDemandStorage
    {
        
        /// <summary>
        /// _paraIdAffinityTypedStorage typed storage field
        /// </summary>
        private TypedMapStorage<Substrate.Polkadot.NET.NetApiExt.Generated.Model.polkadot_runtime_parachains.assigner_on_demand.types.CoreAffinityCount> _paraIdAffinityTypedStorage;
        
        /// <summary>
        /// _queueStatusTypedStorage typed storage field
        /// </summary>
        private TypedStorage<Substrate.Polkadot.NET.NetApiExt.Generated.Model.polkadot_runtime_parachains.assigner_on_demand.types.QueueStatusType> _queueStatusTypedStorage;
        
        /// <summary>
        /// _freeEntriesTypedStorage typed storage field
        /// </summary>
        private TypedStorage<Substrate.Polkadot.NET.NetApiExt.Generated.Types.Base.BinaryHeapT2> _freeEntriesTypedStorage;
        
        /// <summary>
        /// _affinityEntriesTypedStorage typed storage field
        /// </summary>
        private TypedMapStorage<Substrate.Polkadot.NET.NetApiExt.Generated.Types.Base.BinaryHeapT2> _affinityEntriesTypedStorage;
        
        /// <summary>
        /// _revenueTypedStorage typed storage field
        /// </summary>
        private TypedStorage<Substrate.Polkadot.NET.NetApiExt.Generated.Model.bounded_collections.bounded_vec.BoundedVecT35> _revenueTypedStorage;
        
        /// <summary>
        /// OnDemandStorage constructor.
        /// </summary>
        public OnDemandStorage(IStorageDataProvider storageDataProvider, List<IStorageChangeDelegate> storageChangeDelegates)
        {
            this.ParaIdAffinityTypedStorage = new TypedMapStorage<Substrate.Polkadot.NET.NetApiExt.Generated.Model.polkadot_runtime_parachains.assigner_on_demand.types.CoreAffinityCount>("OnDemand.ParaIdAffinity", storageDataProvider, storageChangeDelegates);
            this.QueueStatusTypedStorage = new TypedStorage<Substrate.Polkadot.NET.NetApiExt.Generated.Model.polkadot_runtime_parachains.assigner_on_demand.types.QueueStatusType>("OnDemand.QueueStatus", storageDataProvider, storageChangeDelegates);
            this.FreeEntriesTypedStorage = new TypedStorage<Substrate.Polkadot.NET.NetApiExt.Generated.Types.Base.BinaryHeapT2>("OnDemand.FreeEntries", storageDataProvider, storageChangeDelegates);
            this.AffinityEntriesTypedStorage = new TypedMapStorage<Substrate.Polkadot.NET.NetApiExt.Generated.Types.Base.BinaryHeapT2>("OnDemand.AffinityEntries", storageDataProvider, storageChangeDelegates);
            this.RevenueTypedStorage = new TypedStorage<Substrate.Polkadot.NET.NetApiExt.Generated.Model.bounded_collections.bounded_vec.BoundedVecT35>("OnDemand.Revenue", storageDataProvider, storageChangeDelegates);
        }
        
        /// <summary>
        /// _paraIdAffinityTypedStorage property
        /// </summary>
        public TypedMapStorage<Substrate.Polkadot.NET.NetApiExt.Generated.Model.polkadot_runtime_parachains.assigner_on_demand.types.CoreAffinityCount> ParaIdAffinityTypedStorage
        {
            get
            {
                return _paraIdAffinityTypedStorage;
            }
            set
            {
                _paraIdAffinityTypedStorage = value;
            }
        }
        
        /// <summary>
        /// _queueStatusTypedStorage property
        /// </summary>
        public TypedStorage<Substrate.Polkadot.NET.NetApiExt.Generated.Model.polkadot_runtime_parachains.assigner_on_demand.types.QueueStatusType> QueueStatusTypedStorage
        {
            get
            {
                return _queueStatusTypedStorage;
            }
            set
            {
                _queueStatusTypedStorage = value;
            }
        }
        
        /// <summary>
        /// _freeEntriesTypedStorage property
        /// </summary>
        public TypedStorage<Substrate.Polkadot.NET.NetApiExt.Generated.Types.Base.BinaryHeapT2> FreeEntriesTypedStorage
        {
            get
            {
                return _freeEntriesTypedStorage;
            }
            set
            {
                _freeEntriesTypedStorage = value;
            }
        }
        
        /// <summary>
        /// _affinityEntriesTypedStorage property
        /// </summary>
        public TypedMapStorage<Substrate.Polkadot.NET.NetApiExt.Generated.Types.Base.BinaryHeapT2> AffinityEntriesTypedStorage
        {
            get
            {
                return _affinityEntriesTypedStorage;
            }
            set
            {
                _affinityEntriesTypedStorage = value;
            }
        }
        
        /// <summary>
        /// _revenueTypedStorage property
        /// </summary>
        public TypedStorage<Substrate.Polkadot.NET.NetApiExt.Generated.Model.bounded_collections.bounded_vec.BoundedVecT35> RevenueTypedStorage
        {
            get
            {
                return _revenueTypedStorage;
            }
            set
            {
                _revenueTypedStorage = value;
            }
        }
        
        /// <summary>
        /// Connects to all storages and initializes the change subscription handling.
        /// </summary>
        public async Task InitializeAsync(Substrate.ServiceLayer.Storage.IStorageDataProvider dataProvider)
        {
            await ParaIdAffinityTypedStorage.InitializeAsync("OnDemand", "ParaIdAffinity");
            await QueueStatusTypedStorage.InitializeAsync("OnDemand", "QueueStatus");
            await FreeEntriesTypedStorage.InitializeAsync("OnDemand", "FreeEntries");
            await AffinityEntriesTypedStorage.InitializeAsync("OnDemand", "AffinityEntries");
            await RevenueTypedStorage.InitializeAsync("OnDemand", "Revenue");
        }
        
        /// <summary>
        /// Implements any storage change for OnDemand.ParaIdAffinity
        /// </summary>
        [StorageChange("OnDemand", "ParaIdAffinity")]
        public void OnUpdateParaIdAffinity(string key, string data)
        {
            ParaIdAffinityTypedStorage.Update(key, data);
        }
        
        /// <summary>
        /// >> ParaIdAffinity
        ///  Maps a `ParaId` to `CoreIndex` and keeps track of how many assignments the scheduler has in
        ///  it's lookahead. Keeping track of this affinity prevents parallel execution of the same
        ///  `ParaId` on two or more `CoreIndex`es.
        /// </summary>
        public Substrate.Polkadot.NET.NetApiExt.Generated.Model.polkadot_runtime_parachains.assigner_on_demand.types.CoreAffinityCount GetParaIdAffinity(string key)
        {
            if ((key == null))
            {
                return null;
            }
            if (ParaIdAffinityTypedStorage.Dictionary.TryGetValue(key, out Substrate.Polkadot.NET.NetApiExt.Generated.Model.polkadot_runtime_parachains.assigner_on_demand.types.CoreAffinityCount result))
            {
                return result;
            }
            else
            {
                return null;
            }
        }
        
        /// <summary>
        /// Implements any storage change for OnDemand.QueueStatus
        /// </summary>
        [StorageChange("OnDemand", "QueueStatus")]
        public void OnUpdateQueueStatus(string data)
        {
            QueueStatusTypedStorage.Update(data);
        }
        
        /// <summary>
        /// >> QueueStatus
        ///  Overall status of queue (both free + affinity entries)
        /// </summary>
        public Substrate.Polkadot.NET.NetApiExt.Generated.Model.polkadot_runtime_parachains.assigner_on_demand.types.QueueStatusType GetQueueStatus()
        {
            return QueueStatusTypedStorage.Get();
        }
        
        /// <summary>
        /// Implements any storage change for OnDemand.FreeEntries
        /// </summary>
        [StorageChange("OnDemand", "FreeEntries")]
        public void OnUpdateFreeEntries(string data)
        {
            FreeEntriesTypedStorage.Update(data);
        }
        
        /// <summary>
        /// >> FreeEntries
        ///  Priority queue for all orders which don't yet (or not any more) have any core affinity.
        /// </summary>
        public Substrate.Polkadot.NET.NetApiExt.Generated.Types.Base.BinaryHeapT2 GetFreeEntries()
        {
            return FreeEntriesTypedStorage.Get();
        }
        
        /// <summary>
        /// Implements any storage change for OnDemand.AffinityEntries
        /// </summary>
        [StorageChange("OnDemand", "AffinityEntries")]
        public void OnUpdateAffinityEntries(string key, string data)
        {
            AffinityEntriesTypedStorage.Update(key, data);
        }
        
        /// <summary>
        /// >> AffinityEntries
        ///  Queue entries that are currently bound to a particular core due to core affinity.
        /// </summary>
        public Substrate.Polkadot.NET.NetApiExt.Generated.Types.Base.BinaryHeapT2 GetAffinityEntries(string key)
        {
            if ((key == null))
            {
                return null;
            }
            if (AffinityEntriesTypedStorage.Dictionary.TryGetValue(key, out Substrate.Polkadot.NET.NetApiExt.Generated.Types.Base.BinaryHeapT2 result))
            {
                return result;
            }
            else
            {
                return null;
            }
        }
        
        /// <summary>
        /// Implements any storage change for OnDemand.Revenue
        /// </summary>
        [StorageChange("OnDemand", "Revenue")]
        public void OnUpdateRevenue(string data)
        {
            RevenueTypedStorage.Update(data);
        }
        
        /// <summary>
        /// >> Revenue
        ///  Keeps track of accumulated revenue from on demand order sales.
        /// </summary>
        public Substrate.Polkadot.NET.NetApiExt.Generated.Model.bounded_collections.bounded_vec.BoundedVecT35 GetRevenue()
        {
            return RevenueTypedStorage.Get();
        }
    }
}
