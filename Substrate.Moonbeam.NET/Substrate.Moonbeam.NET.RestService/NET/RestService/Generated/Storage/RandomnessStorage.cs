//------------------------------------------------------------------------------
// <auto-generated>
//     This code was generated by a tool.
//
//     Changes to this file may cause incorrect behavior and will be lost if
//     the code is regenerated.
// </auto-generated>
//------------------------------------------------------------------------------

using Substrate.NetApi.Model.Types.Base;
using Substrate.ServiceLayer.Attributes;
using Substrate.ServiceLayer.Storage;
using System.Collections.Generic;
using System.Threading.Tasks;


namespace Substrate.Moonbeam.NET.RestService.Generated.Storage
{
    
    
    /// <summary>
    /// IRandomnessStorage interface definition.
    /// </summary>
    public interface IRandomnessStorage : IStorage
    {
        
        /// <summary>
        /// >> Requests
        ///  Randomness requests not yet fulfilled or purged
        /// </summary>
        Substrate.Moonbeam.NET.NetApiExt.Generated.Model.pallet_randomness.types.RequestState GetRequests(string key);
        
        /// <summary>
        /// >> RequestCount
        ///  Number of randomness requests made so far, used to generate the next request's uid
        /// </summary>
        Substrate.NetApi.Model.Types.Primitive.U64 GetRequestCount();
        
        /// <summary>
        /// >> LocalVrfOutput
        ///  Current local per-block VRF randomness
        ///  Set in `on_initialize`
        /// </summary>
        Substrate.NetApi.Model.Types.Base.BaseOpt<Substrate.Moonbeam.NET.NetApiExt.Generated.Model.primitive_types.H256> GetLocalVrfOutput();
        
        /// <summary>
        /// >> RelayEpoch
        ///  Relay epoch
        /// </summary>
        Substrate.NetApi.Model.Types.Primitive.U64 GetRelayEpoch();
        
        /// <summary>
        /// >> InherentIncluded
        ///  Ensures the mandatory inherent was included in the block
        /// </summary>
        Substrate.NetApi.Model.Types.Base.BaseTuple GetInherentIncluded();
        
        /// <summary>
        /// >> NotFirstBlock
        ///  Records whether this is the first block (genesis or runtime upgrade)
        /// </summary>
        Substrate.NetApi.Model.Types.Base.BaseTuple GetNotFirstBlock();
        
        /// <summary>
        /// >> RandomnessResults
        ///  Snapshot of randomness to fulfill all requests that are for the same raw randomness
        ///  Removed once $value.request_count == 0
        /// </summary>
        Substrate.Moonbeam.NET.NetApiExt.Generated.Model.pallet_randomness.types.RandomnessResult GetRandomnessResults(string key);
        
        /// <summary>
        /// >> PreviousLocalVrfOutput
        ///  Previous local per-block VRF randomness
        ///  Set in `on_finalize` of last block
        /// </summary>
        Substrate.Moonbeam.NET.NetApiExt.Generated.Model.primitive_types.H256 GetPreviousLocalVrfOutput();
    }
    
    /// <summary>
    /// RandomnessStorage class definition.
    /// </summary>
    public sealed class RandomnessStorage : IRandomnessStorage
    {
        
        /// <summary>
        /// _requestsTypedStorage typed storage field
        /// </summary>
        private TypedMapStorage<Substrate.Moonbeam.NET.NetApiExt.Generated.Model.pallet_randomness.types.RequestState> _requestsTypedStorage;
        
        /// <summary>
        /// _requestCountTypedStorage typed storage field
        /// </summary>
        private TypedStorage<Substrate.NetApi.Model.Types.Primitive.U64> _requestCountTypedStorage;
        
        /// <summary>
        /// _localVrfOutputTypedStorage typed storage field
        /// </summary>
        private TypedStorage<Substrate.NetApi.Model.Types.Base.BaseOpt<Substrate.Moonbeam.NET.NetApiExt.Generated.Model.primitive_types.H256>> _localVrfOutputTypedStorage;
        
        /// <summary>
        /// _relayEpochTypedStorage typed storage field
        /// </summary>
        private TypedStorage<Substrate.NetApi.Model.Types.Primitive.U64> _relayEpochTypedStorage;
        
        /// <summary>
        /// _inherentIncludedTypedStorage typed storage field
        /// </summary>
        private TypedStorage<Substrate.NetApi.Model.Types.Base.BaseTuple> _inherentIncludedTypedStorage;
        
        /// <summary>
        /// _notFirstBlockTypedStorage typed storage field
        /// </summary>
        private TypedStorage<Substrate.NetApi.Model.Types.Base.BaseTuple> _notFirstBlockTypedStorage;
        
        /// <summary>
        /// _randomnessResultsTypedStorage typed storage field
        /// </summary>
        private TypedMapStorage<Substrate.Moonbeam.NET.NetApiExt.Generated.Model.pallet_randomness.types.RandomnessResult> _randomnessResultsTypedStorage;
        
        /// <summary>
        /// _previousLocalVrfOutputTypedStorage typed storage field
        /// </summary>
        private TypedStorage<Substrate.Moonbeam.NET.NetApiExt.Generated.Model.primitive_types.H256> _previousLocalVrfOutputTypedStorage;
        
        /// <summary>
        /// RandomnessStorage constructor.
        /// </summary>
        public RandomnessStorage(IStorageDataProvider storageDataProvider, List<IStorageChangeDelegate> storageChangeDelegates)
        {
            this.RequestsTypedStorage = new TypedMapStorage<Substrate.Moonbeam.NET.NetApiExt.Generated.Model.pallet_randomness.types.RequestState>("Randomness.Requests", storageDataProvider, storageChangeDelegates);
            this.RequestCountTypedStorage = new TypedStorage<Substrate.NetApi.Model.Types.Primitive.U64>("Randomness.RequestCount", storageDataProvider, storageChangeDelegates);
            this.LocalVrfOutputTypedStorage = new TypedStorage<Substrate.NetApi.Model.Types.Base.BaseOpt<Substrate.Moonbeam.NET.NetApiExt.Generated.Model.primitive_types.H256>>("Randomness.LocalVrfOutput", storageDataProvider, storageChangeDelegates);
            this.RelayEpochTypedStorage = new TypedStorage<Substrate.NetApi.Model.Types.Primitive.U64>("Randomness.RelayEpoch", storageDataProvider, storageChangeDelegates);
            this.InherentIncludedTypedStorage = new TypedStorage<Substrate.NetApi.Model.Types.Base.BaseTuple>("Randomness.InherentIncluded", storageDataProvider, storageChangeDelegates);
            this.NotFirstBlockTypedStorage = new TypedStorage<Substrate.NetApi.Model.Types.Base.BaseTuple>("Randomness.NotFirstBlock", storageDataProvider, storageChangeDelegates);
            this.RandomnessResultsTypedStorage = new TypedMapStorage<Substrate.Moonbeam.NET.NetApiExt.Generated.Model.pallet_randomness.types.RandomnessResult>("Randomness.RandomnessResults", storageDataProvider, storageChangeDelegates);
            this.PreviousLocalVrfOutputTypedStorage = new TypedStorage<Substrate.Moonbeam.NET.NetApiExt.Generated.Model.primitive_types.H256>("Randomness.PreviousLocalVrfOutput", storageDataProvider, storageChangeDelegates);
        }
        
        /// <summary>
        /// _requestsTypedStorage property
        /// </summary>
        public TypedMapStorage<Substrate.Moonbeam.NET.NetApiExt.Generated.Model.pallet_randomness.types.RequestState> RequestsTypedStorage
        {
            get
            {
                return _requestsTypedStorage;
            }
            set
            {
                _requestsTypedStorage = value;
            }
        }
        
        /// <summary>
        /// _requestCountTypedStorage property
        /// </summary>
        public TypedStorage<Substrate.NetApi.Model.Types.Primitive.U64> RequestCountTypedStorage
        {
            get
            {
                return _requestCountTypedStorage;
            }
            set
            {
                _requestCountTypedStorage = value;
            }
        }
        
        /// <summary>
        /// _localVrfOutputTypedStorage property
        /// </summary>
        public TypedStorage<Substrate.NetApi.Model.Types.Base.BaseOpt<Substrate.Moonbeam.NET.NetApiExt.Generated.Model.primitive_types.H256>> LocalVrfOutputTypedStorage
        {
            get
            {
                return _localVrfOutputTypedStorage;
            }
            set
            {
                _localVrfOutputTypedStorage = value;
            }
        }
        
        /// <summary>
        /// _relayEpochTypedStorage property
        /// </summary>
        public TypedStorage<Substrate.NetApi.Model.Types.Primitive.U64> RelayEpochTypedStorage
        {
            get
            {
                return _relayEpochTypedStorage;
            }
            set
            {
                _relayEpochTypedStorage = value;
            }
        }
        
        /// <summary>
        /// _inherentIncludedTypedStorage property
        /// </summary>
        public TypedStorage<Substrate.NetApi.Model.Types.Base.BaseTuple> InherentIncludedTypedStorage
        {
            get
            {
                return _inherentIncludedTypedStorage;
            }
            set
            {
                _inherentIncludedTypedStorage = value;
            }
        }
        
        /// <summary>
        /// _notFirstBlockTypedStorage property
        /// </summary>
        public TypedStorage<Substrate.NetApi.Model.Types.Base.BaseTuple> NotFirstBlockTypedStorage
        {
            get
            {
                return _notFirstBlockTypedStorage;
            }
            set
            {
                _notFirstBlockTypedStorage = value;
            }
        }
        
        /// <summary>
        /// _randomnessResultsTypedStorage property
        /// </summary>
        public TypedMapStorage<Substrate.Moonbeam.NET.NetApiExt.Generated.Model.pallet_randomness.types.RandomnessResult> RandomnessResultsTypedStorage
        {
            get
            {
                return _randomnessResultsTypedStorage;
            }
            set
            {
                _randomnessResultsTypedStorage = value;
            }
        }
        
        /// <summary>
        /// _previousLocalVrfOutputTypedStorage property
        /// </summary>
        public TypedStorage<Substrate.Moonbeam.NET.NetApiExt.Generated.Model.primitive_types.H256> PreviousLocalVrfOutputTypedStorage
        {
            get
            {
                return _previousLocalVrfOutputTypedStorage;
            }
            set
            {
                _previousLocalVrfOutputTypedStorage = value;
            }
        }
        
        /// <summary>
        /// Connects to all storages and initializes the change subscription handling.
        /// </summary>
        public async Task InitializeAsync(Substrate.ServiceLayer.Storage.IStorageDataProvider dataProvider)
        {
            await RequestsTypedStorage.InitializeAsync("Randomness", "Requests");
            await RequestCountTypedStorage.InitializeAsync("Randomness", "RequestCount");
            await LocalVrfOutputTypedStorage.InitializeAsync("Randomness", "LocalVrfOutput");
            await RelayEpochTypedStorage.InitializeAsync("Randomness", "RelayEpoch");
            await InherentIncludedTypedStorage.InitializeAsync("Randomness", "InherentIncluded");
            await NotFirstBlockTypedStorage.InitializeAsync("Randomness", "NotFirstBlock");
            await RandomnessResultsTypedStorage.InitializeAsync("Randomness", "RandomnessResults");
            await PreviousLocalVrfOutputTypedStorage.InitializeAsync("Randomness", "PreviousLocalVrfOutput");
        }
        
        /// <summary>
        /// Implements any storage change for Randomness.Requests
        /// </summary>
        [StorageChange("Randomness", "Requests")]
        public void OnUpdateRequests(string key, string data)
        {
            RequestsTypedStorage.Update(key, data);
        }
        
        /// <summary>
        /// >> Requests
        ///  Randomness requests not yet fulfilled or purged
        /// </summary>
        public Substrate.Moonbeam.NET.NetApiExt.Generated.Model.pallet_randomness.types.RequestState GetRequests(string key)
        {
            if ((key == null))
            {
                return null;
            }
            if (RequestsTypedStorage.Dictionary.TryGetValue(key, out Substrate.Moonbeam.NET.NetApiExt.Generated.Model.pallet_randomness.types.RequestState result))
            {
                return result;
            }
            else
            {
                return null;
            }
        }
        
        /// <summary>
        /// Implements any storage change for Randomness.RequestCount
        /// </summary>
        [StorageChange("Randomness", "RequestCount")]
        public void OnUpdateRequestCount(string data)
        {
            RequestCountTypedStorage.Update(data);
        }
        
        /// <summary>
        /// >> RequestCount
        ///  Number of randomness requests made so far, used to generate the next request's uid
        /// </summary>
        public Substrate.NetApi.Model.Types.Primitive.U64 GetRequestCount()
        {
            return RequestCountTypedStorage.Get();
        }
        
        /// <summary>
        /// Implements any storage change for Randomness.LocalVrfOutput
        /// </summary>
        [StorageChange("Randomness", "LocalVrfOutput")]
        public void OnUpdateLocalVrfOutput(string data)
        {
            LocalVrfOutputTypedStorage.Update(data);
        }
        
        /// <summary>
        /// >> LocalVrfOutput
        ///  Current local per-block VRF randomness
        ///  Set in `on_initialize`
        /// </summary>
        public Substrate.NetApi.Model.Types.Base.BaseOpt<Substrate.Moonbeam.NET.NetApiExt.Generated.Model.primitive_types.H256> GetLocalVrfOutput()
        {
            return LocalVrfOutputTypedStorage.Get();
        }
        
        /// <summary>
        /// Implements any storage change for Randomness.RelayEpoch
        /// </summary>
        [StorageChange("Randomness", "RelayEpoch")]
        public void OnUpdateRelayEpoch(string data)
        {
            RelayEpochTypedStorage.Update(data);
        }
        
        /// <summary>
        /// >> RelayEpoch
        ///  Relay epoch
        /// </summary>
        public Substrate.NetApi.Model.Types.Primitive.U64 GetRelayEpoch()
        {
            return RelayEpochTypedStorage.Get();
        }
        
        /// <summary>
        /// Implements any storage change for Randomness.InherentIncluded
        /// </summary>
        [StorageChange("Randomness", "InherentIncluded")]
        public void OnUpdateInherentIncluded(string data)
        {
            InherentIncludedTypedStorage.Update(data);
        }
        
        /// <summary>
        /// >> InherentIncluded
        ///  Ensures the mandatory inherent was included in the block
        /// </summary>
        public Substrate.NetApi.Model.Types.Base.BaseTuple GetInherentIncluded()
        {
            return InherentIncludedTypedStorage.Get();
        }
        
        /// <summary>
        /// Implements any storage change for Randomness.NotFirstBlock
        /// </summary>
        [StorageChange("Randomness", "NotFirstBlock")]
        public void OnUpdateNotFirstBlock(string data)
        {
            NotFirstBlockTypedStorage.Update(data);
        }
        
        /// <summary>
        /// >> NotFirstBlock
        ///  Records whether this is the first block (genesis or runtime upgrade)
        /// </summary>
        public Substrate.NetApi.Model.Types.Base.BaseTuple GetNotFirstBlock()
        {
            return NotFirstBlockTypedStorage.Get();
        }
        
        /// <summary>
        /// Implements any storage change for Randomness.RandomnessResults
        /// </summary>
        [StorageChange("Randomness", "RandomnessResults")]
        public void OnUpdateRandomnessResults(string key, string data)
        {
            RandomnessResultsTypedStorage.Update(key, data);
        }
        
        /// <summary>
        /// >> RandomnessResults
        ///  Snapshot of randomness to fulfill all requests that are for the same raw randomness
        ///  Removed once $value.request_count == 0
        /// </summary>
        public Substrate.Moonbeam.NET.NetApiExt.Generated.Model.pallet_randomness.types.RandomnessResult GetRandomnessResults(string key)
        {
            if ((key == null))
            {
                return null;
            }
            if (RandomnessResultsTypedStorage.Dictionary.TryGetValue(key, out Substrate.Moonbeam.NET.NetApiExt.Generated.Model.pallet_randomness.types.RandomnessResult result))
            {
                return result;
            }
            else
            {
                return null;
            }
        }
        
        /// <summary>
        /// Implements any storage change for Randomness.PreviousLocalVrfOutput
        /// </summary>
        [StorageChange("Randomness", "PreviousLocalVrfOutput")]
        public void OnUpdatePreviousLocalVrfOutput(string data)
        {
            PreviousLocalVrfOutputTypedStorage.Update(data);
        }
        
        /// <summary>
        /// >> PreviousLocalVrfOutput
        ///  Previous local per-block VRF randomness
        ///  Set in `on_finalize` of last block
        /// </summary>
        public Substrate.Moonbeam.NET.NetApiExt.Generated.Model.primitive_types.H256 GetPreviousLocalVrfOutput()
        {
            return PreviousLocalVrfOutputTypedStorage.Get();
        }
    }
}
