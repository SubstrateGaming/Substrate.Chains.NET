//------------------------------------------------------------------------------
// <auto-generated>
//     This code was generated by a tool.
//
//     Changes to this file may cause incorrect behavior and will be lost if
//     the code is regenerated.
// </auto-generated>
//------------------------------------------------------------------------------

using Microsoft.AspNetCore.Mvc;
using Substrate.Moonbeam.NET.RestService.Generated.Storage;
using Substrate.NetApi.Model.Types.Base;
using Substrate.ServiceLayer.Attributes;
using System.Collections.Generic;
using System.Threading.Tasks;


namespace Substrate.Moonbeam.NET.RestService.Generated.Controller
{
    
    
    /// <summary>
    /// RandomnessController controller to access storages.
    /// </summary>
    [ApiController()]
    [Route("[controller]")]
    public sealed class RandomnessController : ControllerBase
    {
        
        private IRandomnessStorage _randomnessStorage;
        
        /// <summary>
        /// RandomnessController constructor.
        /// </summary>
        public RandomnessController(IRandomnessStorage randomnessStorage)
        {
            _randomnessStorage = randomnessStorage;
        }
        
        /// <summary>
        /// >> Requests
        ///  Randomness requests not yet fulfilled or purged
        /// </summary>
        [HttpGet("Requests")]
        [ProducesResponseType(typeof(Substrate.Moonbeam.NET.NetApiExt.Generated.Model.pallet_randomness.types.RequestState), 200)]
        [StorageKeyBuilder(typeof(Substrate.Moonbeam.NET.NetApiExt.Generated.Storage.RandomnessStorage), "RequestsParams", typeof(Substrate.NetApi.Model.Types.Primitive.U64))]
        public IActionResult GetRequests(string key)
        {
            return this.Ok(_randomnessStorage.GetRequests(key));
        }
        
        /// <summary>
        /// >> RequestCount
        ///  Number of randomness requests made so far, used to generate the next request's uid
        /// </summary>
        [HttpGet("RequestCount")]
        [ProducesResponseType(typeof(Substrate.NetApi.Model.Types.Primitive.U64), 200)]
        [StorageKeyBuilder(typeof(Substrate.Moonbeam.NET.NetApiExt.Generated.Storage.RandomnessStorage), "RequestCountParams")]
        public IActionResult GetRequestCount()
        {
            return this.Ok(_randomnessStorage.GetRequestCount());
        }
        
        /// <summary>
        /// >> LocalVrfOutput
        ///  Current local per-block VRF randomness
        ///  Set in `on_initialize`
        /// </summary>
        [HttpGet("LocalVrfOutput")]
        [ProducesResponseType(typeof(Substrate.NetApi.Model.Types.Base.BaseOpt<Substrate.Moonbeam.NET.NetApiExt.Generated.Model.primitive_types.H256>), 200)]
        [StorageKeyBuilder(typeof(Substrate.Moonbeam.NET.NetApiExt.Generated.Storage.RandomnessStorage), "LocalVrfOutputParams")]
        public IActionResult GetLocalVrfOutput()
        {
            return this.Ok(_randomnessStorage.GetLocalVrfOutput());
        }
        
        /// <summary>
        /// >> RelayEpoch
        ///  Relay epoch
        /// </summary>
        [HttpGet("RelayEpoch")]
        [ProducesResponseType(typeof(Substrate.NetApi.Model.Types.Primitive.U64), 200)]
        [StorageKeyBuilder(typeof(Substrate.Moonbeam.NET.NetApiExt.Generated.Storage.RandomnessStorage), "RelayEpochParams")]
        public IActionResult GetRelayEpoch()
        {
            return this.Ok(_randomnessStorage.GetRelayEpoch());
        }
        
        /// <summary>
        /// >> InherentIncluded
        ///  Ensures the mandatory inherent was included in the block
        /// </summary>
        [HttpGet("InherentIncluded")]
        [ProducesResponseType(typeof(Substrate.NetApi.Model.Types.Base.BaseTuple), 200)]
        [StorageKeyBuilder(typeof(Substrate.Moonbeam.NET.NetApiExt.Generated.Storage.RandomnessStorage), "InherentIncludedParams")]
        public IActionResult GetInherentIncluded()
        {
            return this.Ok(_randomnessStorage.GetInherentIncluded());
        }
        
        /// <summary>
        /// >> NotFirstBlock
        ///  Records whether this is the first block (genesis or runtime upgrade)
        /// </summary>
        [HttpGet("NotFirstBlock")]
        [ProducesResponseType(typeof(Substrate.NetApi.Model.Types.Base.BaseTuple), 200)]
        [StorageKeyBuilder(typeof(Substrate.Moonbeam.NET.NetApiExt.Generated.Storage.RandomnessStorage), "NotFirstBlockParams")]
        public IActionResult GetNotFirstBlock()
        {
            return this.Ok(_randomnessStorage.GetNotFirstBlock());
        }
        
        /// <summary>
        /// >> RandomnessResults
        ///  Snapshot of randomness to fulfill all requests that are for the same raw randomness
        ///  Removed once $value.request_count == 0
        /// </summary>
        [HttpGet("RandomnessResults")]
        [ProducesResponseType(typeof(Substrate.Moonbeam.NET.NetApiExt.Generated.Model.pallet_randomness.types.RandomnessResult), 200)]
        [StorageKeyBuilder(typeof(Substrate.Moonbeam.NET.NetApiExt.Generated.Storage.RandomnessStorage), "RandomnessResultsParams", typeof(Substrate.Moonbeam.NET.NetApiExt.Generated.Model.pallet_randomness.types.EnumRequestType))]
        public IActionResult GetRandomnessResults(string key)
        {
            return this.Ok(_randomnessStorage.GetRandomnessResults(key));
        }
        
        /// <summary>
        /// >> PreviousLocalVrfOutput
        ///  Previous local per-block VRF randomness
        ///  Set in `on_finalize` of last block
        /// </summary>
        [HttpGet("PreviousLocalVrfOutput")]
        [ProducesResponseType(typeof(Substrate.Moonbeam.NET.NetApiExt.Generated.Model.primitive_types.H256), 200)]
        [StorageKeyBuilder(typeof(Substrate.Moonbeam.NET.NetApiExt.Generated.Storage.RandomnessStorage), "PreviousLocalVrfOutputParams")]
        public IActionResult GetPreviousLocalVrfOutput()
        {
            return this.Ok(_randomnessStorage.GetPreviousLocalVrfOutput());
        }
    }
}
