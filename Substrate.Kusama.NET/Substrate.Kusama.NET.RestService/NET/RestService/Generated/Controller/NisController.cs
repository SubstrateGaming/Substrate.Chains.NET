//------------------------------------------------------------------------------
// <auto-generated>
//     This code was generated by a tool.
//
//     Changes to this file may cause incorrect behavior and will be lost if
//     the code is regenerated.
// </auto-generated>
//------------------------------------------------------------------------------

using Microsoft.AspNetCore.Mvc;
using Substrate.Kusama.NET.RestService.Generated.Storage;
using Substrate.NetApi.Model.Types.Base;
using Substrate.ServiceLayer.Attributes;
using System.Collections.Generic;
using System.Threading.Tasks;


namespace Substrate.Kusama.NET.RestService.Generated.Controller
{
    
    
    /// <summary>
    /// NisController controller to access storages.
    /// </summary>
    [ApiController()]
    [Route("[controller]")]
    public sealed class NisController : ControllerBase
    {
        
        private INisStorage _nisStorage;
        
        /// <summary>
        /// NisController constructor.
        /// </summary>
        public NisController(INisStorage nisStorage)
        {
            _nisStorage = nisStorage;
        }
        
        /// <summary>
        /// >> QueueTotals
        ///  The totals of items and balances within each queue. Saves a lot of storage reads in the
        ///  case of sparsely packed queues.
        /// 
        ///  The vector is indexed by duration in `Period`s, offset by one, so information on the queue
        ///  whose duration is one `Period` would be storage `0`.
        /// </summary>
        [HttpGet("QueueTotals")]
        [ProducesResponseType(typeof(Substrate.Kusama.NET.NetApiExt.Generated.Model.bounded_collections.bounded_vec.BoundedVecT35), 200)]
        [StorageKeyBuilder(typeof(Substrate.Kusama.NET.NetApiExt.Generated.Storage.NisStorage), "QueueTotalsParams")]
        public IActionResult GetQueueTotals()
        {
            return this.Ok(_nisStorage.GetQueueTotals());
        }
        
        /// <summary>
        /// >> Queues
        ///  The queues of bids. Indexed by duration (in `Period`s).
        /// </summary>
        [HttpGet("Queues")]
        [ProducesResponseType(typeof(Substrate.Kusama.NET.NetApiExt.Generated.Model.bounded_collections.bounded_vec.BoundedVecT36), 200)]
        [StorageKeyBuilder(typeof(Substrate.Kusama.NET.NetApiExt.Generated.Storage.NisStorage), "QueuesParams", typeof(Substrate.NetApi.Model.Types.Primitive.U32))]
        public IActionResult GetQueues(string key)
        {
            return this.Ok(_nisStorage.GetQueues(key));
        }
        
        /// <summary>
        /// >> Summary
        ///  Summary information over the general state.
        /// </summary>
        [HttpGet("Summary")]
        [ProducesResponseType(typeof(Substrate.Kusama.NET.NetApiExt.Generated.Model.pallet_nis.pallet.SummaryRecord), 200)]
        [StorageKeyBuilder(typeof(Substrate.Kusama.NET.NetApiExt.Generated.Storage.NisStorage), "SummaryParams")]
        public IActionResult GetSummary()
        {
            return this.Ok(_nisStorage.GetSummary());
        }
        
        /// <summary>
        /// >> Receipts
        ///  The currently outstanding receipts, indexed according to the order of creation.
        /// </summary>
        [HttpGet("Receipts")]
        [ProducesResponseType(typeof(Substrate.Kusama.NET.NetApiExt.Generated.Model.pallet_nis.pallet.ReceiptRecord), 200)]
        [StorageKeyBuilder(typeof(Substrate.Kusama.NET.NetApiExt.Generated.Storage.NisStorage), "ReceiptsParams", typeof(Substrate.NetApi.Model.Types.Primitive.U32))]
        public IActionResult GetReceipts(string key)
        {
            return this.Ok(_nisStorage.GetReceipts(key));
        }
    }
}
