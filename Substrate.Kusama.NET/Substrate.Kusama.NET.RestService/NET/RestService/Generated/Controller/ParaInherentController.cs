//------------------------------------------------------------------------------
// <auto-generated>
//     This code was generated by a tool.
//
//     Changes to this file may cause incorrect behavior and will be lost if
//     the code is regenerated.
// </auto-generated>
//------------------------------------------------------------------------------

using Microsoft.AspNetCore.Mvc;
using Substrate.Kusama.NET.RestService.Generated.Storage;
using Substrate.NetApi.Model.Types.Base;
using Substrate.ServiceLayer.Attributes;
using System.Collections.Generic;
using System.Threading.Tasks;


namespace Substrate.Kusama.NET.RestService.Generated.Controller
{
    
    
    /// <summary>
    /// ParaInherentController controller to access storages.
    /// </summary>
    [ApiController()]
    [Route("[controller]")]
    public sealed class ParaInherentController : ControllerBase
    {
        
        private IParaInherentStorage _paraInherentStorage;
        
        /// <summary>
        /// ParaInherentController constructor.
        /// </summary>
        public ParaInherentController(IParaInherentStorage paraInherentStorage)
        {
            _paraInherentStorage = paraInherentStorage;
        }
        
        /// <summary>
        /// >> Included
        ///  Whether the paras inherent was included within this block.
        /// 
        ///  The `Option<()>` is effectively a `bool`, but it never hits storage in the `None` variant
        ///  due to the guarantees of FRAME's storage APIs.
        /// 
        ///  If this is `None` at the end of the block, we panic and render the block invalid.
        /// </summary>
        [HttpGet("Included")]
        [ProducesResponseType(typeof(Substrate.NetApi.Model.Types.Base.BaseTuple), 200)]
        [StorageKeyBuilder(typeof(Substrate.Kusama.NET.NetApiExt.Generated.Storage.ParaInherentStorage), "IncludedParams")]
        public IActionResult GetIncluded()
        {
            return this.Ok(_paraInherentStorage.GetIncluded());
        }
        
        /// <summary>
        /// >> OnChainVotes
        ///  Scraped on chain data for extracting resolved disputes as well as backing votes.
        /// </summary>
        [HttpGet("OnChainVotes")]
        [ProducesResponseType(typeof(Substrate.Kusama.NET.NetApiExt.Generated.Model.polkadot_primitives.v2.ScrapedOnChainVotes), 200)]
        [StorageKeyBuilder(typeof(Substrate.Kusama.NET.NetApiExt.Generated.Storage.ParaInherentStorage), "OnChainVotesParams")]
        public IActionResult GetOnChainVotes()
        {
            return this.Ok(_paraInherentStorage.GetOnChainVotes());
        }
    }
}
