//------------------------------------------------------------------------------
// <auto-generated>
//     This code was generated by a tool.
//
//     Changes to this file may cause incorrect behavior and will be lost if
//     the code is regenerated.
// </auto-generated>
//------------------------------------------------------------------------------

using Microsoft.AspNetCore.Mvc;
using Substrate.Moonsama.NET.RestService.Generated.Storage;
using Substrate.NetApi.Model.Types.Base;
using Substrate.ServiceLayer.Attributes;
using System.Collections.Generic;
using System.Threading.Tasks;


namespace Substrate.Moonsama.NET.RestService.Generated.Controller
{
    
    
    /// <summary>
    /// FreeCallsRegistryController controller to access storages.
    /// </summary>
    [ApiController()]
    [Route("[controller]")]
    public sealed class FreeCallsRegistryController : ControllerBase
    {
        
        private IFreeCallsRegistryStorage _freeCallsRegistryStorage;
        
        /// <summary>
        /// FreeCallsRegistryController constructor.
        /// </summary>
        public FreeCallsRegistryController(IFreeCallsRegistryStorage freeCallsRegistryStorage)
        {
            _freeCallsRegistryStorage = freeCallsRegistryStorage;
        }
        
        /// <summary>
        /// >> FreeCallsRegistry
        ///  A map of EVM call signatures to empty values that indicates whether a given signature is registered as a free call.
        /// </summary>
        [HttpGet("FreeCallsRegistry")]
        [ProducesResponseType(typeof(Substrate.NetApi.Model.Types.Base.BaseTuple), 200)]
        [StorageKeyBuilder(typeof(Substrate.Moonsama.NET.NetApiExt.Generated.Storage.FreeCallsRegistryStorage), "FreeCallsRegistryParams", typeof(Substrate.Moonsama.NET.NetApiExt.Generated.Model.pallet_evm_calls_registry.types.EvmCall))]
        public IActionResult GetFreeCallsRegistry(string key)
        {
            return this.Ok(_freeCallsRegistryStorage.GetFreeCallsRegistry(key));
        }
        
        /// <summary>
        /// >> RequestExpiryDate
        ///  A map of senders to empty that indicates that indicates whether a sender can request free calls for some EVM account.
        /// </summary>
        [HttpGet("RequestExpiryDate")]
        [ProducesResponseType(typeof(Substrate.NetApi.Model.Types.Primitive.U32), 200)]
        [StorageKeyBuilder(typeof(Substrate.Moonsama.NET.NetApiExt.Generated.Storage.FreeCallsRegistryStorage), "RequestExpiryDateParams", typeof(Substrate.Moonsama.NET.NetApiExt.Generated.Model.fp_account.AccountId20))]
        public IActionResult GetRequestExpiryDate(string key)
        {
            return this.Ok(_freeCallsRegistryStorage.GetRequestExpiryDate(key));
        }
        
        /// <summary>
        /// >> FreeCallsAvailable
        ///  A map of senders to EvmCallCounter structs that indicates how many free calls the sender has available and when they expire.
        /// </summary>
        [HttpGet("FreeCallsAvailable")]
        [ProducesResponseType(typeof(Substrate.Moonsama.NET.NetApiExt.Generated.Model.pallet_evm_calls_registry.types.EvmCallCounter), 200)]
        [StorageKeyBuilder(typeof(Substrate.Moonsama.NET.NetApiExt.Generated.Storage.FreeCallsRegistryStorage), "FreeCallsAvailableParams", typeof(Substrate.Moonsama.NET.NetApiExt.Generated.Model.fp_account.AccountId20))]
        public IActionResult GetFreeCallsAvailable(string key)
        {
            return this.Ok(_freeCallsRegistryStorage.GetFreeCallsAvailable(key));
        }
    }
}
